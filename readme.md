# JadeClass 考勤管理系统
## 关于
本系统根据 JadeClass 公司实际情况定制，使用 Laravel 开发，目的是能够提高 JadeClass 人事行政部门每个月进行的考勤统计效率以及准确性。目前本项目正在开发之中。

## 基本功能介绍
### 员工信息管理
<br>- 可以新增员工基础信息，如员工编号，姓名，英文名，部门，职位，入职日期，一周排班，工作经历，工资卡号等。
<br>- 信息一旦录入成功，只有部分信息可以更改。可以更改的信息有：部门，职位，一周排班，工作经历，银行卡号。
<br>- 系统将会根据员工入职日期和工作经历计算出工作年数以及本年度剩余年假。（目前实习生和兼职没有年假）
<br>- 年假以及工作年数将会每年进行一次更新。工作年数小于十年每年有5天年假，大于等于10年每年有10天年假，大于等于20年每年有15天年假。每年有未使用完的年假将累计到下一年度。年假数据无法直接更改，只能通过请假管理对年假进行增减。
<br>- 员工信息录入后无法删除，只能进行离职操作，可以在离职员工表中查看离职员工信息。因此，录入员工数据时关键数据（姓名，编号，英文名）务必核对无误，避免计算考勤时产生错误或数据缺失。
<br>- 本月排班请在上月考勤计算完成后进行修改，否则将影响上月考勤结果。
<br>- 员工英文名必须与考勤机中英文名一致，否则考勤记录将导入失败。
### 请假信息管理
<br>- 可根据不同请假类型进行添加。
<br>- 年假和调休必须被批准。
<br>- 有剩余年假的员工才能正常申请年假。
<br>- 调休假必须在剩余调休时间的情况下才能正常添加。
<br>- 请假时长会根据情况相应减少1小时午休时间
### 加班信息管理
<br>- 可根据不同加班类型进行添加。
<br>- 调休加班必须被批准。
<br>- 加班时长会根据情况相应减少1小时午休时间
### 节假日调休管理
<br>- 添加本年度法定调休情况，以便计算考勤记录时考虑到节假日情况。
### 考勤信息管理
<br>- 此功能是本系统核心功能，必须遵循操作步骤，否则最终结果会出现错误。
<br>- 如导入原始表成功后，系统将会直接计算当月考勤总数据。
<br>- 可以依据英文名-年-月查询员工当月考勤汇总（英文名可不填）。
<br>- 员工当月应上班工时，实际上班工时，迟到早退次数，加班请假时长，考勤是否异常等数据将在考勤汇总中体现。
<br>- 若汇总表中员工考勤报异常，则说明该员工当月至少有一条考勤记录异常。此时应该查看员工详细考勤数据，进行异常处理。
<br>- 员工详细考勤记录中，包含了该自然日的类型（休息，上班）、员工应上下班时间及时长、实际上下班时间及时长、当日加班请假情况等。
<br>- 员工当日考勤如有异常，可使用“更改异常”、“补打卡”、“增补工时”三种方式修复异常情况。而从原始表格导入的原始数据将会被严格保护。
<br>- 判断一条考勤记录是否异常的原则是：实际工时+(请假时长)-(加班时长)+(增补时长)>=(应该工时-5分钟)，即最大容忍五分钟的少工时情况出现。
<br>- 迟到、早退分钟数会记录在案，但如果工时足够，不会计入该月考勤汇总中。
* 补打卡：如果员工上班或下班没有打卡，可进行补打卡操作。
* 增补工时：没有请假记录，但缺少工时的考勤记录可进行增补工时操作。可能增补工时的原因例如：地铁故障导致的迟到，员工哺乳期的提早下班等。
* 更改异常：如果以上操作均无法使异常状态修复，可强行更改异常情况。此功能推荐使用于对于迟到早退异常的修复。更改异常后，汇总表迟到早退次数不会减少。

## 表单解释
**因考勤汇总表中列数较多，下面对其中几列的含义进行解释：**
<br>- 总应: 员工当月应该工作总时长 (由每天应该工作时长累加得出)
<br>- 总实: 员工当月实际工作总时长 (由每天实际工作时长累加得出)
<br>- 总基本: 员工当月基本工作总时长 (由每天基本工作时长累加得出。每天实际工时减去加班工时的差值如果大于应工时，每天基本工时等于应工时，否则等于差值。例如: 应工时8小时,实工时7.50小时,那么当日基本工时为7.50小时;应工时8小时,实工时8.50小时,那么当日基本工时为8小时)
<br>- 总额外: 如果在非工作时间工作,且无加班记录的,系统将判定为额外工时（调休加班，带薪加班在总加班工时中体现）
<br>- 总加班: 总加班第一项为调休加班时长,第二项为带薪加班时长。
<br>- 差值: 总基本-总应, 理论上不大于零。差值为少工作的时长。
<br>- 总增补: 员工当月因为特殊原因造成的缺少工时。不计入迟到或早退中。

## 说明
**本系统部分使用限制和前提在此说明，首次使用请务必阅读：**
<br>- 每月排班请在结算完上月考勤后进行修改，否则将影响当月考勤。
<br>- 员工英文名必须和打卡机上录入的英文名完全相同，包括大小写。
<br>- 对于每周上班天数变动的员工，建议填写排班时所有天数都填写上下班时间，避免基本工时计算不到的情况。
<br>- 在导入原始考勤数据前，首先需要确保全部员工当月请假、加班记录已经录入核实，并已经添加了当月节假日调休情况。
<br>- 考勤信息计算必须使用考勤原始表（标准报表），即直接从考勤机获取的表格。否则考勤记录将录入错误。
<br>- 考勤记录中加班、请假工时按照加班、请假申请的时长为准。
<br>- 考勤表一旦导入，数据将不可删除。点击导入考勤表按钮后，请耐心等待一分钟左右，勿多次点击，造成数据混乱。
<br>- 汇总表可以进行导出，目前仅支持当月汇总意见当月员工考勤同时导出功能。
<br>- 录入2019年以前入职员工或者年假时长已经发生变动的员工时，请务必填写年假时长，否则系统将默认年假未使用。后期在职员工数据录入完成并且系统投入使用后，将限制入职日期可填写范围为本年度。


## 后续开发
-   6月21日开始将对特殊员工信息录入以及相关算法进行完善（进行中）
-   生成的数据表单导出功能（已完成）
-   直接导入员工一周排班表
-   7月份将开始对老师上课考勤板块进行开发

## 使用环境要求
- 推荐使用Chrome浏览器、360浏览器或搜狗浏览器

## 开发运行环境要求
-   PHP 7.1.3+
-   Laravel 5.8
-   Phpspreadsheet 1.7+
